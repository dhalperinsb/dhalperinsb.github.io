{"version":3,"sources":["serviceWorker.js","services/Session/context.js","services/Firebase/context.js","services/Firebase/firebase.js","services/Firebase/index.js","services/Session/withAuthentication.js","constants/routes.js","services/Session/withAuthorization.js","components/SignOut/index.js","constants/roles.js","components/Navigation/index.js","components/Projects/ProjectForm.js","components/Projects/index.js","services/Server/Server.js","services/Server/context.js","services/Server/index.js","components/Actions/ActionForm.js","components/Actions/AuthForm.js","components/Actions/index.js","components/SignUp/index.js","components/PasswordForget/index.js","components/SignIn/index.js","components/Home/index.js","components/Users/AdminButton.js","components/Users/DeleteButton.js","components/Users/index.js","components/Admin/index.js","components/App/index.js","index.js"],"names":["Boolean","window","location","hostname","match","AuthUserContext","React","createContext","FirebaseContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","services_Firebase","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","onAuthUserListener","next","fallback","onAuthStateChanged","authUser","user","uid","once","then","snapshot","dbUser","val","roles","objectSpread","db","ref","concat","users","project","pid","projects","action","aid","actions","app","initializeApp","serverValue","database","ServerValue","emailAuthProvider","EmailAuthProvider","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","state","JSON","parse","localStorage","getItem","inherits","createClass","key","value","_this2","listener","setItem","stringify","setState","removeItem","context","Provider","HOME","withAuthorization","condition","WithAuthorization","apply","arguments","history","push","compose","withRouter","_ref","type","onClick","ADMIN","NavigationAuth","style","backgroundColor","display","includes","ROLES","flex","Link","to","SignOut","Navigation","Navigation_NavigationAuth","EDIT_STATUS","freeze","NEW","EDITING","VIEWING","INITIAL_STATE","name","url","ProjectForm","onChange","event","defineProperty","target","status","save","bind","assertThisInitialized","edit","cancel","delete","update","preventDefault","remove","_this$state","isInvalid","className","width","placeholder","disabled","Projects","loading","on","projectsObject","projectsList","keys","map","off","Projects_ProjectForm","settings","REQUEST_METHOD","services_Server","Server","authHeader","btoa","method","requestOptions","headers","Authorization","path","endsWith","startsWith","insertVariables","variables","encodeParameters","parameters","body","Promise","reject","fetch","response","ok","json","statusText","catch","err","console","log","message","s","i","length","param","encodeURIComponent","re","inx","m","exec","varMatch","find","v","substring","index","lastIndex","_loop","INITIAL_ACTION","description","ActionForm","indexOf","parseInt","search","updateVariablesUsed","tainted","messenger","newParamName","newParamValue","newVarName","newVarValue","newVarDescription","showingDetails","deleteVariable","addVariable","deleteParam","addParam","toggleDetails","pName","splice","vName","varsUsed","values","toConsumableArray","inUse","hasOwnProperty","_this3","_this4","_this$props$action","marginTop","paddingLeft","verticalAlign","height","marginLeft","border","padding","id","INITIAL_AUTH","AuthForm","auths","selectProject","setProject","_this$props$auth","p","Actions","results","loadAction","execute","actionsObject","actionsList","sort","b","localeCompare","result","perform","reply","minHeight","Actions_AuthForm","paddingBottom","marginBottom","borderBottom","Actions_ActionForm","undefined","username","passwordOne","passwordTwo","isAdmin","error","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignUpFormBase","onSubmit","set","ROUTES","code","onChangeCheckbox","checked","_this$state2","SignUpLink","SignUpForm","SignUpPage","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","paddingTop","SignInForm","SignInPage","PasswordForget_PasswordForgetLink","SignUp_SignUpLink","HomePage","AdminButton","handleEvent","newRoles","filter","role","DeleteButton","UserList","usersObject","usersList","Users_AdminButton","onSendPasswordResetEmail","Users_DeleteButton","AdminPage","Users","BrowserRouter","components_Navigation","Route","exact","component","ActionsPage","ProjectPage","ReactDOM","render","Firebase_context","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.172ba02a.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;\n","import React from 'react';\n\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default FirebaseContext;\n","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(config);\n\n    /* Helper */\n\n    this.serverValue = app.database.ServerValue;\n    this.emailAuthProvider = app.auth.EmailAuthProvider;\n\n    /* Firebase APIs */\n\n    this.auth = app.auth();\n    this.db = app.database();\n\n  }\n\n  // *** Auth API ***\n\n  doCreateUserWithEmailAndPassword = (email, password) =>\n    this.auth.createUserWithEmailAndPassword(email, password);\n\n  doSignInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n  doSignOut = () => this.auth.signOut();\n\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\n\n  doPasswordUpdate = password =>\n    this.auth.currentUser.updatePassword(password);\n\n  // *** Merge Auth and DB User API *** //\n\n  onAuthUserListener = (next, fallback) =>\n    this.auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        this.user(authUser.uid)\n          .once('value')\n          .then(snapshot => {\n            const dbUser = snapshot.val();\n\n            // default empty roles\n            if (!dbUser.roles) {\n              dbUser.roles = [];\n            }\n\n            // merge auth and db user\n            authUser = {\n              uid: authUser.uid,\n              email: authUser.email,\n              ...dbUser,\n            };\n\n            next(authUser);\n          });\n      } else {\n        fallback();\n      }\n    });\n\n  // *** User API ***\n  user = uid => this.db.ref(`users/${uid}`);\n  users = () => this.db.ref('users');\n\n  // *** Server API ***\n  project = pid => this.db.ref(`projects/${pid}`);\n  projects = () => this.db.ref('projects');\n\n  // *** Action API ***\n  action = aid => this.db.ref(`actions/${aid}`);\n  actions = () => this.db.ref('actions');\n\n}\n\nexport default Firebase;\n","import FirebaseContext, { withFirebase } from './context';\nimport Firebase from './firebase';\n\nexport default Firebase;\n\nexport { FirebaseContext, withFirebase };\n","import React from 'react';\n\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nconst withAuthentication = Component => {\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        authUser: JSON.parse(localStorage.getItem('authUser')),\n      };\n    }\n\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          localStorage.setItem('authUser', JSON.stringify(authUser));\n          this.setState({ authUser });\n        },\n        () => {\n          localStorage.removeItem('authUser');\n          this.setState({ authUser: null });\n        },\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Provider value={this.state.authUser}>\n          <Component {...this.props} />\n        </AuthUserContext.Provider>\n      );\n    }\n  }\n\n  return withFirebase(WithAuthentication);\n};\n\nexport default withAuthentication;\n","export const LANDING = '/';\nexport const SIGN_UP = '/signup';\nexport const SIGN_IN = '/signin';\nexport const HOME = '/home';\nexport const PASSWORD_FORGET = '/pw-forget';\nexport const ADMIN = '/admin';\nexport const PROJECTS = '/projects';\nexport const ACTIONS = '/actions';\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nconst withAuthorization = condition => Component => {\n  class WithAuthorization extends React.Component {\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          if (!condition(authUser)) {\n            this.props.history.push(ROUTES.SIGN_IN);\n          }\n        },\n        () => this.props.history.push(ROUTES.SIGN_IN),\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          {authUser =>\n            condition(authUser) ? <Component authUser={authUser} {...this.props} /> : null\n          }\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n\n  return compose(\n    withRouter,\n    withFirebase,\n  )(WithAuthorization);\n};\n\nexport default withAuthorization;\n","import React from 'react';\n\nimport { withFirebase } from '../../services/Firebase';\n\nconst SignOutButton = ({ firebase }) => (\n  <button type=\"button\" onClick={firebase.doSignOut}>\n    Sign Out\n  </button>\n);\n\nexport default withFirebase(SignOutButton);\n","export const ADMIN = \"ADMIN\";","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { AuthUserContext } from '../../services/Session';\nimport SignOutButton from '../SignOut';\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\n//import SignInPage from \"../SignIn\";\n\nconst Navigation = () => (\n  <AuthUserContext.Consumer>\n    {authUser =>\n      authUser ? (\n        <NavigationAuth authUser={authUser} />\n      ) : (\n        <div>&nbsp;</div>\n      )\n    }\n  </AuthUserContext.Consumer>\n);\n\nconst NavigationAuth = ({ authUser }) => (\n  <div style={{backgroundColor:\"lightblue\", display: \"flex\"}}>\n    {authUser.roles.includes(ROLES.ADMIN) && (\n      <div style={{flex: 1}}>\n        <Link to={ROUTES.ACTIONS}>Actions</Link>\n      </div>\n    )}\n    {authUser.roles.includes(ROLES.ADMIN) && (\n      <div style={{flex: 1}}>\n        <Link to={ROUTES.PROJECTS}>Projects</Link>\n      </div>\n    )}\n    {authUser.roles.includes(ROLES.ADMIN) && (\n      <div style={{flex: 1}}>\n        <Link to={ROUTES.ADMIN}>Admin</Link>\n      </div>\n    )}\n    <div style={{flex: 1}}>\n      <SignOutButton />\n    </div>\n  </div>\n);\n\nconst NavigationNonAuth = () => (\n  <ul>\n    <li>\n      <Link to={ROUTES.SIGN_IN}>Sign In</Link>\n    </li>\n  </ul>\n);\n\nexport default Navigation;\n","import React, { Component} from 'react';\n\nimport { withFirebase } from '../../services/Firebase';\n\nconst EDIT_STATUS = Object.freeze({\"NEW\":0, \"EDITING\":1, \"VIEWING\":2});\n\nconst INITIAL_STATE = {\n  pid: 'new',\n  name: '',\n  url: ''\n};\n\n\nclass ProjectForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ...INITIAL_STATE,\n      status: (props.project === null ? EDIT_STATUS.NEW : EDIT_STATUS.VIEWING),\n      ...props.project\n    };\n\n    //bindings\n    this.save = this.save.bind(this);\n    this.edit = this.edit.bind(this);\n    this.cancel = this.cancel.bind(this);\n    this.delete = this.delete.bind(this);\n  }\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n\n  };\n\n  save(event) {\n    this.state.status === EDIT_STATUS.NEW\n      ? this.props.firebase.projects().push({\n          name: this.state.name,\n          url: this.state.url\n        })\n      .then(() => {\n        this.setState({ ...INITIAL_STATE});\n      })\n      : this.props.firebase.project(this.state.pid).update({\n        name: this.state.name,\n        url : this.state.url\n        })\n      .then(() => {\n        this.setState({status: EDIT_STATUS.VIEWING});\n      })\n\n  }\n\n  edit(event) {\n    this.setState({status: EDIT_STATUS.EDITING});\n  }\n\n  cancel(event) {\n    this.setState({status: EDIT_STATUS.VIEWING, ...this.props.project});\n  }\n\n  delete(event) {\n    event.preventDefault();\n    this.props.firebase.project(this.props.project.pid).remove();\n  }\n  render() {\n    const { name, url, status, pid } = this.state;\n\n    const isInvalid = name === '' || url === '';\n\n    return (\n    <div className=\"rTableRow\" key={pid}>\n      <div className=\"rTableCell\">\n        {status !== EDIT_STATUS.NEW &&\n        <span>\n          <strong>{pid}</strong> < br />\n        </span>\n        }\n        {status === EDIT_STATUS.VIEWING\n         ? <strong>{name}</strong>\n         : <input\n           name=\"name\"\n           value={name}\n           onChange={this.onChange}\n           type=\"text\"\n           style={{width:\"300px\"}}\n           placeholder=\"Project Name\"\n         />\n        }\n      </div>\n      <div className=\"rTableCell\">\n        {status === EDIT_STATUS.VIEWING\n         ? <strong>{url}</strong>\n         : <input\n           name=\"url\"\n           value={url}\n           onChange={this.onChange}\n           type=\"text\"\n           style={{width:\"500px\"}}\n           placeholder=\"Project Url\"\n         />\n        }\n      </div>\n      <div className=\"rTableCell\">\n        {status === EDIT_STATUS.VIEWING\n         ? <button\n           type=\"button\"\n           onClick={this.edit}\n          >\n           Edit\n          </button>\n         : <span>\n              <button\n                type=\"button\"\n                disabled={isInvalid}\n                onClick={this.save}\n              >\n                Save\n              </button>\n              {this.state.status === EDIT_STATUS.EDITING && <button\n                 type=\"button\"\n                 onClick={this.cancel}\n               >\n                 Cancel\n               </button>\n              }\n             </span>\n        }\n      </div>\n      <div className=\"rTableCell\">\n          <span>\n            {//<a href=\"#\" onClick={this.delete}>Delete</a>\n              this.state.status !== EDIT_STATUS.NEW\n              ?\n              <button\n                type=\"button\"\n                className=\"link-button\"\n                onClick={this.delete}>\n                Delete\n              </button>\n              : <span>&nbsp;</span>\n            }\n          </span>\n      </div>\n    </div>\n    );\n  }\n}\n\nexport default withFirebase(ProjectForm);\n\n","import React, {Component} from 'react';\nimport { compose } from 'recompose';\n\nimport {withFirebase} from '../../services/Firebase';\nimport {withAuthorization} from \"../../services/Session\";\nimport * as ROLES from \"../../constants/roles\";\n\nimport ProjectForm from './ProjectForm';\n\nclass Projects extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      projects: [],\n    };\n  }\n\n  componentDidMount() {\n    this.setState({loading: true});\n\n    this.props.firebase.projects().on('value', snapshot => {\n      const projectsObject = snapshot.val() || [];\n\n      const projectsList = Object.keys(projectsObject).map(key => ({\n        ...projectsObject[key],\n        pid: key\n      }));\n\n      this.setState({\n        projects: projectsList,\n        loading: false,\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.projects().off();\n  }\n\n  render() {\n    const {projects, loading} = this.state;\n\n    return (\n      <div>\n        <h1>Projects</h1>\n        <p>Matrix Projects - API endpoints</p>\n        {loading && <div>Loading ...</div>}\n        {!loading &&\n        <div className=\"rTable\">\n          <div className=\"rTableRow\">\n            <div className=\"rTableHead\"><strong>Id/Name</strong></div>\n            <div className=\"rTableHead\"><strong>URL</strong></div>\n            <div className=\"rTableHead\">&nbsp;</div>\n            <div className=\"rTableHead\">&nbsp;</div>\n          </div>\n          {projects.map(project => (\n            <ProjectForm key={project.pid} project={project}/>\n          ))}\n          <ProjectForm project={null}/>\n        </div>\n        }\n      </div>\n    );\n  }\n}\n\nconst condition = authUser =>\n  authUser && authUser.roles.includes(ROLES.ADMIN);\n\nexport default compose(\n  withFirebase,\n  withAuthorization(condition),\n)(Projects);\n\n","\n\nconst settings = {\n  defaultHeaders: [],\n  defaultMethod: \"GET\",\n};\n\nconst REQUEST_METHOD = [\"GET\",\"PUT\",\"POST\",\"DELETE\"];\n\n//server lasts through one invocation\nclass Server {\n\n  constructor(auth) {\n    this.url = auth.url;\n    this.authHeader = auth.user ? window.btoa(auth.user + ':' + auth.password) : null;\n  }\n\n  /*\n  action includes path, type, parameters\n   */\n  perform(action) {\n\n    const method = action.method || settings.defaultMethod;\n    const requestOptions = {\n      method: method,\n      headers: {...settings.defaultHeaders},\n    };\n    if (this.authHeader) {\n      requestOptions.headers.Authorization = 'Basic ' + this.authHeader;\n    }\n    let url = this.url;\n    if (action.path) {\n      if (!url.endsWith('/') && !action.path.startsWith('/')) {\n        url += '/';\n      }\n      url += this.insertVariables(action.path, action.variables);\n    }\n\n    switch (method) {\n      case \"GET\":\n      case \"PUT\":\n        if (!url.endsWith(\"?\")) {\n          url += \"?\"\n        }\n        url += this.encodeParameters(action.parameters, action.variables);\n        break;\n\n      case \"POST\":\n      case \"DELETE\":\n        requestOptions.body = this.encodeParameters(action.parameters, action.variables);\n        break;\n\n      default:\n        return Promise.reject(`Bad method ${method}`);\n    }\n\n    return fetch(url, requestOptions)\n      .then(response => {\n        if (!response.ok) {\n          return Promise.reject(`Failed connection with status ${response.statusText}`);\n        }\n        return response.json();\n      })\n      .catch(err => {\n        console.log('Fetch problem: ' + err.message);\n        return Promise.reject(err.message);\n      });\n  }\n\n  encodeParameters(parameters, variables) {\n    let s = '';\n    for (let i = 0; i < parameters.length; i++) {\n      const param = parameters[i];\n      s += param.name + \"=\" + encodeURIComponent(this.insertVariables(param.value, variables)) + \"&\";\n    }\n    return s;\n  }\n\n  insertVariables(value, variables) {\n    const re = /\\${([^}]+)}/g;\n    let m;\n    let s = '';\n    let inx = 0;\n    do {\n      let m = re.exec(value);\n      if (m) {\n        const varMatch = variables.find(v => m[1] === v.name);\n        s += value.substring(inx, m.index) + (varMatch ? varMatch.value : '');\n        inx = re.lastIndex;\n      }\n    } while (m);\n    s += value.substring(inx);\n    return s;\n  }\n\n}\n\n\nexport {REQUEST_METHOD};\n\nexport default Server;\n","import React from 'react';\n\nconst ServerContext = React.createContext(null);\n\nexport const withServer = Component => props => (\n  <ServerContext.Consumer>\n    {server => <Component {...props} server={server} />}\n  </ServerContext.Consumer>\n);\n\nexport default ServerContext;\n","import ServerContext, { withServer } from './context';\nimport Server from './Server';\n\nexport default Server;\n\nexport { ServerContext, withServer };\n","import React, { Component} from 'react';\n\nimport { withFirebase } from '../../services/Firebase';\nimport {REQUEST_METHOD} from \"../../services/Server/Server\";\n\nconst INITIAL_ACTION = () => {\n  return {\n    name: '',\n    description: '',\n    path: '',\n    method: REQUEST_METHOD[0],  //first is default\n    variables: [], //substituted into place in parameter values and path\n    parameters: []\n  };\n};\n\nclass ActionForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    if (!props.action.aid) {\n      //fill in the rest\n      Object.assign(props.action, INITIAL_ACTION());\n    }\n\n    this.state = {\n      tainted: false,\n      newParamName: '',\n      newParamValue: '',\n      newVarName: '',\n      newVarValue: '',\n      newVarDescription: '',\n      showingDetails: true\n    };\n\n    //bindings\n    this.save = this.save.bind(this);  //save new action\n    this.update = this.update.bind(this);  //update existing action\n    this.delete = this.delete.bind(this); //delete action (only available !tainted\n\n    this.deleteVariable = this.deleteVariable.bind(this);  //eliminate a variable\n    this.addVariable = this.addVariable.bind(this);  //add a new variable\n\n    this.deleteParam = this.deleteParam.bind(this);  //eliminate a parameter\n    this.addParam = this.addParam.bind(this);  //add a new parameter\n\n    this.toggleDetails = this.toggleDetails.bind(this);  //add a new parameter\n  }\n\n  componentDidMount() {\n    //nothing to do\n  }\n\n  componentWillUnmount() {\n  }\n\n  onChange = event => {\n    const value = event.target.value;\n    const name = event.target.name;\n    if (name.startsWith(\"param\")) {\n      const type = name.substring(name.indexOf(\"-\") + 1);\n      const inx = parseInt(name.substring(5));\n      this.props.action.parameters[inx][type] = value;\n    } else if (name.startsWith(\"var\")) {\n      const type = name.substring(name.indexOf(\"-\") + 1);\n      const inx = parseInt(name.substring(3));\n      this.props.action.variables[inx][type] = value;\n    } else if (name.startsWith(\"newParam\") || name.startsWith(\"newVar\")) {\n      this.setState({[name]: value});\n    } else {\n      this.props.action[name] = value;\n    }\n    if (name === \"path\" || name.search(/^param.*-value/) !== -1) {\n      this.updateVariablesUsed();\n    }\n    this.setState({tainted: true});\n    this.props.messenger();\n  };\n\n  deleteParam(event) {\n    const name = event.target.name;\n    const inx = parseInt(name.substring(5));\n    const pName = this.props.action.parameters[inx].name;\n    this.props.action.parameters.splice(inx, 1);\n    this.updateVariablesUsed();\n    //force update?\n    this.setState({tainted: true});\n    this.props.messenger(`Parameter ${pName} deleted`);\n  }\n\n  addParam() {\n    this.props.action.parameters.push({\n      name : this.state.newParamName,\n      value : this.state.newParamValue\n    });\n    this.updateVariablesUsed();\n    this.setState({\n      tainted: true,\n      newParamName: '',\n      newParamValue: ''\n    });\n    this.props.messenger(`Parameter ${this.state.newParamName} added`);\n  }\n\n  deleteVariable(event) {\n    const name = event.target.name;\n    const inx = parseInt(name.substring(3));\n    const vName = this.props.action.variables[inx].name;\n    this.props.action.variables.splice(inx, 1);\n    //force update?\n    this.setState({tainted: true});\n    this.props.messenger(`Variable ${vName} deleted`);\n  }\n\n  addVariable() {\n    this.props.action.variables.push({\n      name : this.state.newVarName,\n      value : this.state.newVarValue,\n      description: this.state.newVarDescription\n    });\n    this.setState({\n      tainted: true,\n      newVarName: '',\n      newVarValue: '',\n      newVarDescription: ''\n    });\n  }\n\n  toggleDetails() {\n    this.setState({showingDetails: !this.state.showingDetails});\n  }\n\n  updateVariablesUsed() {\n    let varsUsed = [];\n    const re = /\\${([^}]+)}/g;\n    let values = [...this.props.action.parameters];\n    values.push(this.props.action.path);\n    for(let i = 0; i < values.length; i++) {\n      const name = typeof values[i] === 'string' ? \"path\" : \"Parameter \" + values[i].name;\n      const value = typeof values[i] === 'string' ? values[i] : values[i].value;\n      let m = [];\n      do {\n        m = re.exec(value);\n        if (m) {\n          varsUsed[m[1]] = name;\n        }\n      } while (m);\n    }\n    //now make sure inUse properly set\n    for(let i = 0; i < this.props.action.variables.length; i++) {\n      const v = this.props.action.variables[i];\n      v.inUse = varsUsed.hasOwnProperty(v.name);\n      delete varsUsed[v.name];\n    }\n\n    //whatever we still have we must create\n    for (let name in varsUsed) {\n      if (varsUsed.hasOwnProperty(name)) {\n        this.props.action.variables.push({\n          name: name,\n          value: '',\n          description: `Used in ${varsUsed[name]}`,\n          inUse: true\n        });\n      }\n    }\n  }\n\n  save() {\n    this.props.messenger();\n    const action = {...this.props.action};\n    delete action.aid; //no aid on new\n    this.props.action.aid = this.props.firebase.actions().push(action).key;\n    this.setState({ tainted: false});\n    this.props.messenger(\"New Action Saved.\");\n  };\n\n  update() {\n    this.props.messenger();\n    const action = {...this.props.action};\n    delete action.aid; //no aid contained\n    this.props.firebase.action(this.props.action.aid).update(action)\n      .then(() => {\n        this.setState({tainted: false});\n        this.props.messenger(\"Action Updated.\");\n      });\n  };\n\n  delete(event) {\n    this.props.firebase.action(this.props.action.aid).remove()\n      .then(() => {\n        //reset Action to New\n        Object.assign(this.props.action, INITIAL_ACTION());\n        this.props.action.aid = null;\n        this.setState({tainted: false});\n        this.props.messenger(\"Action Deleted.\");\n      });\n\n    event.preventDefault();\n  }\n\n  render() {\n    //make sure everything reset here\n    const {aid, name, description, variables, path, method, parameters} = this.props.action;\n    const {newParamName, newParamValue, newVarName, newVarValue, newVarDescription, showingDetails} = this.state;\n\n    const isInvalid = name === '' || description === '';\n\n    return (\n      <div>\n        {aid\n         ?\n         <div\n           style={{marginTop: \"6px\"}}\n            >\n           <strong>{`Action id:${aid}`}</strong>\n           <button\n             type=\"button\"\n             disabled={isInvalid || !this.state.tainted}\n             onClick={this.update}\n           >\n             Update\n           </button>\n           <button\n             type=\"button\"\n             className=\"link-button\"\n             style={{paddingLeft: \"12px\"}}\n             onClick={this.delete}>\n             Delete Action\n           </button>\n         </div>\n         :\n         <div>\n           <strong>New Action</strong>\n           <button\n             type=\"button\"\n             disabled={isInvalid}\n             onClick={this.save}\n           >\n             Save\n           </button>\n         </div>\n        }\n\n\n        <div>\n          <span style={{width:\"150px\", display: \"inline-block\"}}><strong>Name</strong></span>\n          <input\n            name=\"name\"\n            value={name}\n            onChange={this.onChange}\n            type=\"text\"\n            style={{width:\"300px\"}}\n            placeholder=\"Action Name\"\n          />\n          {aid &&\n          <button\n            type=\"button\"\n            disabled={isInvalid}\n            onClick={this.save}\n          >\n            Save as New\n          </button>\n          }\n        </div>\n        <div\n          style={{verticalAlign:\"top\", marginTop: \"7px\"}}\n          >\n          <span style={{width:\"150px\", verticalAlign:\"top\", display: \"inline-block\"}}>\n            <strong>Description</strong></span>\n\n          <textarea\n            name=\"description\"\n            value={description}\n            onChange={this.onChange}\n            style={{width: \"600px\", height: \"60px\"}}\n            placeholder=\"Description\"\n          />\n        </div>\n        <div\n          style={{marginTop:\"10px\"}}>\n          <strong>Variables</strong>\n          <div className=\"rTable\">\n            <div className=\"rTableRow\">\n              <div className=\"rTableHead\"><strong>Name</strong></div>\n              <div className=\"rTableHead\"><strong>Value</strong></div>\n              <div className=\"rTableHead\"><strong>Description</strong></div>\n            </div>\n            {variables.map((v, index) =>\n              <div className=\"rTableRow\" key={index}>\n                <div className=\"rTableCell\">\n                  <strong>{v.name}</strong>\n                  {!v.inUse &&\n                  <span>\n                     - Not Used -\n                    <button\n                      name={`var${index}-delete`}\n                      type=\"button\"\n                      className=\"link-button\"\n                      onClick={this.deleteVariable}>\n                      X\n                    </button>\n                  </span>\n                  }\n                </div>\n                <div className=\"rTableCell\">\n                  <textarea\n                    name={`var${index}-value`}\n                    value={v.value}\n                    onChange={this.onChange}\n                    style={{width: \"500px\", height: \"60px\"}}\n                    placeholder=\"value\"\n                  />\n                </div>\n                <div className=\"rTableCell\">\n                  <textarea\n                    name={`var${index}-description`}\n                    value={v.description}\n                    onChange={this.onChange}\n                    style={{width: \"300px\", height: \"50px\"}}\n                    placeholder=\"Description\"\n                  />\n                </div>\n              </div>\n            )}\n            <div className=\"rTableRow\">\n              <div className=\"rTableCell\">\n                <input\n                  name=\"newVarName\"\n                  value={newVarName}\n                  onChange={this.onChange}\n                  type=\"text\"\n                  placeholder=\"New Variable Name\"\n                />\n                <button\n                  type=\"button\"\n                  disabled={newVarName === ''}\n                  onClick={this.addVariable}\n                >\n                  Add\n                </button>\n              </div>\n              <div className=\"rTableCell\">\n                <textarea\n                  name=\"newVarValue\"\n                  value={newVarValue}\n                  onChange={this.onChange}\n                  style={{width: \"500px\", height: \"60px\"}}\n                  placeholder=\"Value\"\n                />\n              </div>\n              <div className=\"rTableCell\">\n                <textarea\n                  name=\"newVarDescription\"\n                  value={newVarDescription}\n                  onChange={this.onChange}\n                  style={{width: \"300px\", height: \"50px\"}}\n                  placeholder=\"description\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <hr />\n        <div>\n          <span style={{width:\"150px\", display: \"inline-block\"}}><strong>Path</strong></span>\n          <input\n            name=\"path\"\n            value={path}\n            onChange={this.onChange}\n            style={{width: \"300px\"}}\n            type=\"text\"\n            placeholder=\"path\"\n          />\n        </div>\n        <div\n          style={{marginTop: \"5px\"}}\n          >\n          <strong>Action Details</strong>{showingDetails}\n          <button\n            type=\"button\"\n            className=\"link-button\"\n            onClick={this.toggleDetails}\n            style={{marginLeft: \"5px\"}}\n          >\n            {showingDetails? \"hide\" : \"show\"}\n          </button>\n          {showingDetails && <div\n            style={{border: \"1px solid gray\", padding: \"5px\"}}>\n            <div id=\"details\">\n              <label>\n                Request Method:\n                <select\n                  name=\"method\"\n                  value={method}\n                  onChange={this.onChange}>\n                  {REQUEST_METHOD.map(m => (\n                    <option key={m} value={m}>{m}</option>\n                  ))}\n                </select>\n              </label>\n            </div>\n            <div>\n              <strong>Parameters</strong>\n              <div className=\"rTable\">\n                <div className=\"rTableRow\">\n                  <div className=\"rTableHead\"><strong>Name</strong></div>\n                  <div className=\"rTableHead\"><strong>Value</strong></div>\n                  <div className=\"rTableHead\">&nbsp;</div>\n                </div>\n                {parameters.map((param, index) =>\n                  <div className=\"rTableRow\" key={index}>\n                    <div className=\"rTableCell\">\n                      <input\n                        name={`param${index}-name`}\n                        value={param.name}\n                        onChange={this.onChange}\n                        style={{width: \"200px\"}}\n                        type=\"text\"\n                        placeholder=\"Parameter Name\"\n                      />\n                    </div>\n                    <div className=\"rTableCell\">\n                  <textarea\n                    name={`param${index}-value`}\n                    value={param.value}\n                    onChange={this.onChange}\n                    style={{width: \"500px\", height: \"60px\"}}\n                    placeholder=\"Value\"\n                  />\n                    </div>\n                    <div className=\"rTableCell\">\n                      <button\n                        name={`param${index}-delete`}\n                        type=\"button\"\n                        className=\"link-button\"\n                        onClick={this.deleteParam}>\n                        X\n                      </button>\n                    </div>\n                  </div>\n                )}\n                <div className=\"rTableRow\">\n                  <div className=\"rTableCell\">\n                    <input\n                      name=\"newParamName\"\n                      value={newParamName}\n                      onChange={this.onChange}\n                      type=\"text\"\n                      style={{width: \"200px\"}}\n                      placeholder=\"New Parameter Name\"\n                    />\n                  </div>\n                  <div className=\"rTableCell\">\n                <textarea\n                  name=\"newParamValue\"\n                  value={newParamValue}\n                  onChange={this.onChange}\n                  style={{width: \"500px\", height: \"60px\"}}\n                  placeholder=\"Value\"\n                />\n                  </div>\n                  <div className=\"rTableCell\">\n                    <button\n                      type=\"button\"\n                      disabled={newParamName === ''}\n                      onClick={this.addParam}\n                    >\n                      Add\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport {INITIAL_ACTION};\nexport default withFirebase(ActionForm);\n\n","import React, { Component} from 'react';\n\nimport { withFirebase } from '../../services/Firebase';\n\nconst INITIAL_AUTH = {\n  pid: null,\n  url: null, //use current value\n  user: '',\n  password: '',\n};\n\nclass AuthForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      projects: [],\n      auths: [],\n      loading: false\n    };\n\n    if (!(props.auth.hasOwnProperty('pid'))) {\n      Object.assign(props.auth, INITIAL_AUTH);\n    }\n\n    this.selectProject = this.selectProject.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({loading:true});\n\n    this.props.firebase.projects().on('value', snapshot => {\n      const projectsObject = snapshot.val() || [];\n\n      const projectsList = Object.keys(projectsObject).map(key => ({\n        ...projectsObject[key],\n        pid: key\n      }));\n\n      this.setState({\n        projects: projectsList,\n        loading: false\n      });\n      if (this.props.auth.pid === null || !projectsObject.hasOwnProperty(this.props.auth.pid)) {\n        this.setProject(projectsList[0].pid, projectsList[0].url);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.projects().off();\n  }\n\n  onChange = event => {\n\n    const value = event.target.value;\n    const name = event.target.name;\n    this.props.auth[name] = value;\n    const pid = this.props.auth.pid;\n    if (pid === null){ //on render\n      return;\n    }\n    const auth = this.state.auths[pid];\n    auth[name] = value;\n    this.props.messenger();\n  };\n\n  setProject(pid, url) {\n    if (!this.state.auths[pid]) {\n      const auths = this.state.auths;\n      auths[pid] = {\n        //carry over whatever we have\n        user: this.props.auth.user,\n        password: this.props.auth.password,\n        //and set url & pid\n        pid: pid,\n        url: url\n\n      };\n    }\n    //then promote up for use in execute\n    Object.assign(this.props.auth, this.state.auths[pid]);\n  }\n\n  selectProject(event) {\n    const pid = event.target.value;\n    const project = this.state.projects.find(s => s.pid === pid);\n    this.setProject(pid, project.url);\n    this.props.messenger(\"Project set to \" + project.name);\n  }\n\n  render() {\n    const { loading, projects} = this.state;\n    const {user, password, project} = this.props.auth;\n\n    return (\n      <div>\n        {loading && <div>Loading ...</div>}\n        {!loading &&\n        <div>\n          <label>\n            <strong>Select Project:</strong>\n            <select value={project} onChange={this.selectProject}>\n              {projects.map(p => (\n                <option key={p.pid} value={p.pid}>{p.name}</option>\n              ))}\n            </select>\n          </label>\n          <div\n            style={{marginTop:\"7px\", marginLeft:\"4px\"}}><strong>Credentials</strong></div>\n          <div className=\"rTable\">\n            <div className=\"rTableRow\">\n              <div className=\"rTableCell\"><strong>User</strong></div>\n              <div className=\"rTableCell\">\n                <input\n                  name=\"user\"\n                  value={user}\n                  onChange={this.onChange}\n                  type=\"text\"\n                  style={{width:\"200px\"}}\n                  placeholder=\"User\"\n                />\n              </div>\n            </div>\n            <div className=\"rTableRow\">\n              <div className=\"rTableCell\"><strong>Password</strong></div>\n              <div className=\"rTableCell\">\n                <input\n                  name=\"password\"\n                  value={password}\n                  onChange={this.onChange}\n                  type=\"password\"\n                  placeholder=\"Password\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default withFirebase(AuthForm);\n\n","import React, {Component} from 'react';\nimport { compose } from 'recompose';\n\nimport {withFirebase} from '../../services/Firebase';\nimport {withAuthorization} from \"../../services/Session\";\nimport Server from '../../services/Server';\n\nimport * as ROLES from \"../../constants/roles\";\n\nimport ActionForm, {INITIAL_ACTION} from \"./ActionForm\";\nimport AuthForm from \"./AuthForm\";\n\n\nclass Actions extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      actions: [],\n      aid: null,\n      auth: [],\n      action: [],\n      message: null,\n      results: null\n    };\n\n    this.loadAction = this.loadAction.bind(this);\n    this.execute = this.execute.bind(this); //execute action\n  }\n\n  componentDidMount() {\n    this.setState({loading: true});\n\n    this.props.firebase.actions().on('value', snapshot => {\n      const actionsObject = snapshot.val() || [];\n\n      const actionsList = Object.keys(actionsObject).map(key => ({\n        ...actionsObject[key],\n        aid: key\n      }));\n\n      this.setState({\n        actions: actionsList.sort((a,b) => a.name.localeCompare(b.name)),\n        loading: false,\n        result: null\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.actions().off();\n  }\n\n  loadAction(event) {\n\n    const aid = event.target.value;\n    const action = aid === \"-NEW-\"\n             ? {aid: null}\n             : this.state.actions.find(a => a.aid === aid);\n\n    this.setState({\n      action: {...INITIAL_ACTION(), ...action}\n    });\n    this.messenger(aid === \"-NEW-\" ? \"New action\" : \"Loaded action id=\" + aid );\n    event.target.value = null;\n  }\n\n  messenger = (message)  => {\n    this.setState({message: message});\n    if (!message) {\n      this.setState({results: null});\n    }\n  };\n\n  execute() {\n    //get the auth & action\n    //issue command *& report result\n    const server = new Server(this.state.auth);\n    server.perform(this.state.action)\n      .then(reply => {\n        this.setState({results: reply});\n        this.messenger(\"Action executed.\")\n      })\n      .catch(err => {\n        this.setState({results: \"ERROR on call: \" + err});\n        this.messenger(\"Action execution error.\")\n      });\n  }\n\n  render() {\n    const {actions, loading, results} = this.state;\n\n    return (\n      <div>\n        <h1>Actions</h1>\n        <h2>Matrix actions - create and take actions</h2>\n        <p\n          className={\"message-area\"}\n          style={{\n            minHeight: \"20px\",\n            padding: \"7px\",\n            border: this.state.message? \"1px solid black\" : \"transparent\"}}>\n          {this.state.message && this.state.message}\n        </p>\n        {loading && <div>Loading ...</div>}\n        {!loading &&\n          <div>\n            <p>\n              <button\n                type=\"button\"\n                onClick={this.execute}\n              >Execute\n              </button>\n            </p>\n            <hr/>\n            <AuthForm auth={this.state.auth} messenger={this.messenger}/>\n            <hr/>\n            {actions.length >0  &&\n            <div\n              style={{width: \"300px\", paddingBottom:\"5px\", marginBottom:\"10px\", borderBottom: \"1px gray dotted\"}}\n              >\n              Load an Action:\n              <select\n                className={\"field-select\"}\n                value=\"\"\n                onChange={this.loadAction}\n              >\n                <option value=\"\" disabled=\"disabled\"></option>\n                <option value=\"-NEW-\">--NEW--</option>\n                {actions.map(action => (\n                  <option key={action.aid} value={action.aid}>{action.name}</option>\n                ))}\n              </select>\n            </div>\n            }\n            <ActionForm action={this.state.action} messenger={this.messenger}/>\n            {results &&\n              <div>\n                <hr/>\n                <h2>Results</h2>\n                <pre>{JSON.stringify(results, undefined, 2)}</pre>\n              </div>\n            }\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nconst condition = authUser =>\n  authUser && authUser.roles.includes(ROLES.ADMIN);\n\nexport default compose(\n  withFirebase,\n  withAuthorization(condition),\n)(Actions);\n\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../../services/Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\n\nconst SignUpPage = () => (\n  <div>\n    <h1>SignUp</h1>\n    <SignUpForm />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  error: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { username, email, passwordOne, isAdmin } = this.state;\n    const roles = [];\n\n    if (isAdmin) {\n      roles.push(ROLES.ADMIN);\n    }\n\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase.user(authUser.user.uid).set({\n          username,\n          email,\n          roles,\n        });\n      })\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  onChangeCheckbox = event => {\n    this.setState({ [event.target.name]: event.target.checked });\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      error,\n    } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === '' ||\n      email === '' ||\n      username === '';\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"username\"\n          value={username}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Full Name\"\n        />\n        <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Sign Up\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst SignUpLink = () => (\n  <p>\n    Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\n  </p>\n);\n\nconst SignUpForm = compose(\n  withRouter,\n  withFirebase,\n)(SignUpFormBase);\n\nexport default SignUpPage;\n\nexport { SignUpForm, SignUpLink };\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { withFirebase } from '../../services/Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nconst PasswordForgetPage = () => (\n  <div>\n    <h1>PasswordForget</h1>\n    <PasswordForgetForm />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  email: '',\n  error: null,\n};\n\nclass PasswordForgetFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { email } = this.state;\n\n    this.props.firebase\n      .doPasswordReset(email)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { email, error } = this.state;\n\n    const isInvalid = email === '';\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"email\"\n          value={this.state.email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Reset My Password\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst PasswordForgetLink = () => (\n  <p>\n    <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\n  </p>\n);\n\nexport default PasswordForgetPage;\n\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\n\nexport { PasswordForgetForm, PasswordForgetLink };\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { SignUpLink } from '../SignUp';\nimport { PasswordForgetLink } from '../PasswordForget';\nimport { withFirebase } from '../../services/Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nconst SignInPage = () => (\n  <div>\n    <h1>SignIn</h1>\n    <SignInForm />\n    <PasswordForgetLink />\n    <SignUpLink />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null,\n};\n\nclass SignInFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { email, password } = this.state;\n\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { email, password, error } = this.state;\n\n    const isInvalid = password === '' || email === '';\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <div>\n          <span style={{width:\"100px\", display: \"inline-block\"}}><strong>User</strong></span>\n          <input\n            name=\"email\"\n            value={email}\n            onChange={this.onChange}\n            type=\"text\"\n            style={{width:\"200px\"}}\n            placeholder=\"Email Address\"\n          />\n        </div>\n        <div style={{paddingTop:\"5px\"}}>\n          <span style={{width:\"100px\", display: \"inline-block\"}}><strong>Password</strong></span>\n          <input\n            name=\"password\"\n            value={password}\n            onChange={this.onChange}\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n        </div>\n        <div\n          style={{paddingTop:\"10px\"}}>\n          <div>\n            <button disabled={isInvalid} type=\"submit\">\n              Sign In\n            </button>\n          </div>\n        </div>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst SignInForm = compose(\n  withRouter,\n  withFirebase,\n)(SignInFormBase);\n\n\nexport default SignInPage;\n\nexport { SignInForm };\n","import React, { Component } from 'react';\nimport { compose } from 'recompose';\n\nimport { withAuthorization } from '../../services/Session';\nimport { withFirebase } from '../../services/Firebase';\nimport * as ROLES from \"../../constants/roles\";\nimport * as ROUTES from \"../../constants/routes\";\n\nclass HomePage extends Component {\n\n  /*\n  constructor(props) {\n    super(props);\n\n  }\n  */\n\n  componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          if (authUser && authUser.roles.includes(ROLES.ADMIN)) {\n            this.props.history.push(ROUTES.ACTIONS);\n          }\n        }\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n  render() {\n    return (\n      <div>\n        <h1>Matrix API Connector</h1>\n        <p>Your account must be enabled for you to perform any actions.</p>\n      </div>\n    );\n  }\n}\n\nconst condition = authUser => !!authUser;\n\nexport default compose(\n  withFirebase,\n  withAuthorization(condition),\n)(HomePage);\n","import React, { Component} from 'react';\n\nimport * as ROLES from '../../constants/roles';\nimport { withFirebase } from '../../services/Firebase';\n\n\nclass AdminButton extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      isAdmin: props.user.roles.includes(ROLES.ADMIN)\n    };\n\n  }\n\n  componentDidMount() {\n    this.setState({ loading: false });\n  }\n\n  handleEvent = () => {\n    this.setState({loading: true});\n    let newRoles = this.state.isAdmin\n                ? this.props.user.roles.filter(role => role !== ROLES.ADMIN)\n                : [...this.props.user.roles, ROLES.ADMIN];\n\n    this.props.firebase.user(this.props.user.uid).update({roles: newRoles})\n      .then(() => {\n        this.props.user.roles = newRoles;\n        this.setState({isAdmin: newRoles.includes(ROLES.ADMIN), loading: false});\n      });\n\n  };\n\n  render() {\n\n    return (\n      <span>\n        <button onClick={this.handleEvent} disabled={this.state.loading}\n          >{this.state.isAdmin ? \"Disable\" : \"Enable\"}</button>\n      </span>\n    );\n\n  }\n}\n\nexport default withFirebase(AdminButton);\n\n","import React, { Component} from 'react';\n\nimport { withFirebase } from '../../services/Firebase';\nimport {compose} from \"recompose\";\nimport {AuthUserContext} from \"../../services/Session\";\n\n\nclass DeleteButton extends Component {\n  /*\n  constructor(props) {\n    super(props);\n  }\n     */\n\n  componentDidMount() {\n    this.setState({ loading: false });\n  }\n\n  handleEvent = (event) => {\n    event.preventDefault();\n    this.props.firebase.user(this.props.user.uid).remove();\n  };\n\n  render() {\n    return (\n      <AuthUserContext.Consumer>\n        {authUser =>\n          authUser && authUser.uid !== this.props.user.uid\n          ? (\n            <button\n              type=\"button\"\n              className=\"link-button\"\n              onClick={this.handleEvent}>\n              Delete User\n            </button>\n          )\n          : (\n          <span>&nbsp;</span>\n          )\n        }\n      </AuthUserContext.Consumer>\n\n    );\n\n  }\n}\n\n\nexport default compose(\n  withFirebase\n)(DeleteButton);","import React, {Component} from 'react';\n\nimport {withFirebase} from '../../services/Firebase';\nimport AdminButton from './AdminButton';\nimport DeleteButton from './DeleteButton';\nimport * as ROLES from '../../constants/roles';\n\nclass UserList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      users: [],\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ loading: true });\n\n    this.props.firebase.users().on('value', snapshot => {\n      const usersObject = snapshot.val();\n\n      const usersList = Object.keys(usersObject).map(key => ({\n        roles: [],\n        ...usersObject[key],\n        uid: key,\n      }));\n\n      this.setState({\n        users: usersList,\n        loading: false,\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    const { users, loading } = this.state;\n\n    return (\n      <div>\n        <h2>Users</h2>\n        {loading && <div>Loading ...</div>}\n        {!loading && <div className=\"rTable\">\n          <div className=\"rTableRow\">\n            <div className=\"rTableHead\"><strong>Id/Email</strong></div>\n            <div className=\"rTableHead\"><strong>Username</strong></div>\n            <div className=\"rTableHead\"><strong>Enabled</strong></div>\n            <div className=\"rTableHead\">&nbsp;</div>\n            <div className=\"rTableHead\">&nbsp;</div>\n          </div>\n          {users.map(user => (\n            <div className=\"rTableRow\" key={user.uid}>\n              <div className=\"rTableCell\">\n                <strong>{user.uid}</strong><br/>\n                <strong>{user.email}</strong>\n              </div>\n              <div className=\"rTableCell\">\n                <strong>{user.username}</strong>\n              </div>\n              <div className=\"rTableCell\">\n                <strong>{user.roles.includes(ROLES.ADMIN) ? \"Yes\" : \"No\"}</strong>\n                {user.uid !== this.props.authUser.uid && <AdminButton user={user}/>}\n              </div>\n              <div className=\"rTableCell\">\n                <button\n                  type=\"button\"\n                  onClick={this.onSendPasswordResetEmail}\n                >Send Password Reset\n                </button>\n              </div>\n              <div className=\"rTableCell\">\n                <DeleteButton user={user}/>\n              </div>\n            </div>\n          ))}\n        </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default withFirebase(UserList);\n","import React, {Component} from 'react';\nimport { compose } from 'recompose';\n\nimport { withAuthorization } from '../../services/Session';\nimport Users from '../Users';\nimport * as ROLES from '../../constants/roles';\n\n\nclass AdminPage extends Component {\n  /*constructor(props) {\n    super(props);\n  }*/\n\n  render() {\n    return (\n      <div>\n        <h1>Admin</h1>\n        <p>Only Admin function is administering users.</p>\n        <Users authUser={this.props.authUser}/>\n      </div>\n    );\n  }\n}\n\nconst condition = authUser =>\n  authUser && authUser.roles.includes(ROLES.ADMIN);\n\nexport default compose(\n  withAuthorization(condition),\n)(AdminPage);\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport Navigation from '../Navigation';\nimport ProjectPage from '../Projects';\nimport ActionsPage from '../Actions';\nimport SignUpPage from '../SignUp';\nimport SignInPage from '../SignIn';\nimport PasswordForgetPage from '../PasswordForget';\nimport HomePage from '../Home';\nimport AdminPage from '../Admin';\n\nimport * as ROUTES from '../../constants/routes';\nimport { withAuthentication } from '../../services/Session';\n\nconst App = () => (\n  <Router>\n    <div>\n      <Navigation />\n\n      <hr />\n\n      <Route path={ROUTES.LANDING} exact component={SignInPage} />\n      <Route path={ROUTES.HOME} component={HomePage} />\n\n      <Route exact path={ROUTES.ACTIONS} component={ActionsPage} />\n      <Route exact path={ROUTES.PROJECTS} component={ProjectPage} />\n\n      <Route path={ROUTES.SIGN_UP} component={SignUpPage} />\n      <Route path={ROUTES.SIGN_IN} component={SignInPage} />\n      <Route\n        path={ROUTES.PASSWORD_FORGET}\n        component={PasswordForgetPage}\n      />\n\n      <Route path={ROUTES.ADMIN} component={AdminPage} />\n    </div>\n  </Router>\n\n);\n\nexport default withAuthentication(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './components/App';\nimport Firebase, { FirebaseContext } from './services/Firebase';\n//import Session, { SessionContext } from './services/Session';\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <App />\n  </FirebaseContext.Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}